/*! Thrive Architect - 2021-08-16
* http://www.thrivethemes.com/
* Copyright (c) 2021 Thrive Themes */

!function(e){function t(){YoastSEO.app.registerPlugin("tcbYoastPlugin",{status:"loading"}),this.tcb_content="",this.fetchData()}t.prototype.fetchData=function(){var o=this;return e.ajax({url:ajaxurl,type:"post",dataType:"json",data:{post_id:TCB_Post_Edit_Data.post_id,action:"get_tcb_content"}}).done(function(t){o.tcb_content=t.content,YoastSEO.app.pluginReady("tcbYoastPlugin"),YoastSEO.app.registerModification("content",e.proxy(o.getTCBContent,o),"tcbYoastPlugin",5)})},t.prototype.getTCBContent=function(t){if(this.tcb_content){var o=e("<div>").html(this.tcb_content);o.find("*:empty").remove(),this.tcb_content=o[0].innerHTML}return this.tcb_content?this.tcb_content:t},e(window).on("YoastSEO:ready",function(){new t}),e(function(){var n=e(document);n.on("click.tcb","#tcb2-migrate-post",function(){var o=this;e("#tcb-admin-page-loader").show(),e.ajax({type:"post",url:ajaxurl,dataType:"json",data:{_nonce:TCB_Post_Edit_Data.admin_nonce,post_id:TCB_Post_Edit_Data.post_id,action:"tcb_admin_ajax_controller",route:"migrate_post_content"}}).done(function(t){location.href=o.getAttribute("data-edit")}).fail(function(t){alert("ERROR: "+t.responseText)})}).on("click","#tcb2-show-wp-editor",function(){var t=n.find(".tcb-enable-editor"),o=t.closest(".postbox");o.next(".tcb-flags").find("input").prop("disabled",!1),o.before(t),o.remove(),e("body").removeClass("tcb-hide-wp-editor")}).on("click",".tcb-enable-editor",function(){e("body").addClass("tcb-hide-wp-editor"),e.ajax({type:"post",url:ajaxurl,dataType:"json",data:{_nonce:TCB_Post_Edit_Data.admin_nonce,post_id:this.getAttribute("data-id"),action:"tcb_admin_ajax_controller",route:"enable_tcb"}}).done(function(t){e(window).off("beforeunload.edit-post"),e("input#save-post").click().prop("disabled",!0)})})})}(jQuery);